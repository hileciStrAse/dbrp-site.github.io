<div class="space-y-8">
    <div class="bg-gray-800/30 backdrop-blur-xl border border-white/10 rounded-xl p-6 shadow-lg">
        <div class="flex items-center mb-6">
            {{#if guild.icon}}
                <img src="https://cdn.discordapp.com/icons/{{guild.id}}/{{guild.icon}}.png?size=128" alt="{{guild.name}} icon" class="w-16 h-16 rounded-lg mr-4">
            {{else}}
                <div class="w-16 h-16 rounded-lg bg-gray-700 flex items-center justify-center text-orange-400 text-3xl font-bold mr-4">
                    {{firstChar guild.name}}
                </div>
            {{/if}}
            <div>
                <h1 class="text-3xl font-bold text-orange-500">{{guild.name}}</h1>
                <p class="text-gray-400">Server ID: {{guild.id}}</p>
            </div>
        </div>
        <p class="text-gray-300">Bu server üçün ayarları buradan idarə edə bilərsiniz.</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Statistika Kanalı Seçimi -->
        <div class="bg-gray-800/30 backdrop-blur-xl border border-white/10 rounded-xl p-6 shadow-lg transform hover:scale-105 transition duration-300 hover:shadow-orange-500/20 card-3d">
            <h2 class="text-xl font-semibold text-orange-400 mb-3">Statistika Kanalı Seçimi</h2>
            <p class="text-gray-400 mb-4">Statistikaların göndəriləcəyi kanalı seçin.</p>
            <select class="w-full bg-gray-700/50 border border-gray-600 text-white py-2 px-3 rounded-lg focus:outline-none focus:bg-gray-700 focus:border-orange-500 mb-3 appearance-none">
                <option value="" disabled selected>Kanal seçin...</option>
                {{#each channels}}
                    <option value="{{this.id}}">#{{this.name}}</option>
                {{/each}}
            </select>
            <button class="w-full bg-gradient-to-r from-orange-500 to-yellow-400 hover:from-orange-600 hover:to-yellow-500 text-gray-900 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300">
                Yadda Saxla
            </button>
        </div>

        <!-- Maaş Bildirim Kanalı (optional) -->
        <div class="bg-gray-800/30 backdrop-blur-xl border border-white/10 rounded-xl p-6 shadow-lg transform hover:scale-105 transition duration-300 hover:shadow-orange-500/20 card-3d">
            <h2 class="text-xl font-semibold text-orange-400 mb-3">Maaş Bildirim Kanalı (optional)</h2>
            <p class="text-gray-400 mb-4">Maaş bildirimlərinin göndəriləcəyi kanalı seçin (istəyə bağlı).</p>
            <select class="w-full bg-gray-700/50 border border-gray-600 text-white py-2 px-3 rounded-lg focus:outline-none focus:bg-gray-700 focus:border-orange-500 mb-3 appearance-none">
                <option value="" disabled selected>Kanal seçin...</option>
                 <option value="disable">Deaktiv Et</option> {{!-- Added disable option --}}
                {{#each channels}}
                    <option value="{{this.id}}">#{{this.name}}</option>
                {{/each}}
            </select>
            <button id="save-settings-btn" class="w-full bg-gradient-to-r from-orange-500 to-yellow-400 hover:from-orange-600 hover:to-yellow-500 text-gray-900 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300 disabled:opacity-60 disabled:cursor-not-allowed" disabled>
                Yadda Saxla
            </button>
        </div>

        <!-- Prezident Rolu Seçimi -->
        <div class="bg-gray-800/30 backdrop-blur-xl border border-white/10 rounded-xl p-6 shadow-lg transform hover:scale-105 transition duration-300 hover:shadow-orange-500/20 card-3d">
            <h2 class="text-xl font-semibold text-orange-400 mb-3">Prezident Rolu Seçimi</h2>
            <p class="text-gray-400 mb-4">Serverdə prezident rolunu seçin.</p>
            <select class="w-full bg-gray-700/50 border border-gray-600 text-white py-2 px-3 rounded-lg focus:outline-none focus:bg-gray-700 focus:border-orange-500 mb-3 appearance-none">
                <option value="" disabled selected>Rol seçin...</option>
                {{#each roles}}
                    <option value="{{this.id}}">@{{this.name}}</option>
                {{/each}}
            </select>
            <button class="w-full bg-gradient-to-r from-orange-500 to-yellow-400 hover:from-orange-600 hover:to-yellow-500 text-gray-900 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transform hover:scale-105 transition duration-300">
                Yadda Saxla
            </button>
        </div>
    </div>

    <div class="mt-8 text-center">
        <a href="/dashboard" class="text-orange-400 hover:text-orange-300 transition duration-300">&larr; İdarə Panelinə Qayıt</a>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const selects = document.querySelectorAll('select');
        const saveBtn = document.getElementById('save-settings-btn');
        let initialValues = Array.from(selects).map(s => s.value);
        selects.forEach(select => {
            select.addEventListener('change', function() {
                let changed = Array.from(selects).some((s, i) => s.value !== initialValues[i]);
                if (changed) {
                    saveBtn.disabled = false;
                    saveBtn.classList.remove('opacity-60', 'cursor-not-allowed');
                } else {
                    saveBtn.disabled = true;
                    saveBtn.classList.add('opacity-60', 'cursor-not-allowed');
                }
            });
        });
    });
</script>
